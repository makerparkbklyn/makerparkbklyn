
// Timeline Section
//–––––––––––––––––––––––––––————————————————————————————–––––––––––––––––––––––
.timeline-section {
	background-color: $lightblue;

	.timeline-arrow {
		display: inline-block;
		margin-left: gutter(4);
		margin-top: $baseline;
		height: calc(#{$baseline} * 3 - 1px);
		font-size: 0;
		line-height: 0;
		cursor: pointer;

		svg {
			width: 1.5rem;
		}
	}

	@include breakpoint(max-width $tablet-landscape - 1) {
		.timeline-carousel {
			width: 100%;
			padding-top: $baseline * 2;

			.slick-list {
				width: 100%;
			}

			.timeline-carousel__item {
				// padding: 0 5.35%; // relative to viewport width
				padding: 0 0.333%; // relative to .slick-track

				h3 {
					font-size: ms(2);
					line-height: $baseline * 2.5;
					color: #fff;
					@include align-to-baseline( ms(2), $baseline * 2.5 );
					padding-bottom: $baseline * 0.5;
				}

				p {
					margin-bottom: 0;
				}
			}

			// Dots
			.slick-dots {
				position: absolute;
				top: calc(-#{$baseline} * 3 + 1px);
				right: 5.5%;
				padding: 0;
				margin: 0;
				list-style: none;
				text-align: left;
				font-size: 0;
				line-height: 0;

				@include breakpoint($tablet-portrait) {
					top: calc(-#{$baseline} * 3.5 + 1px);
				}

				li {
					position: relative;
					float: left;
					margin: 0;
					margin-right: $baseline;
					margin-bottom: $baseline;
					padding: 0;
					font-size: 0;
					line-height: 0;

					&:nth-child(7),
					&:nth-child(14) {
						margin-right: 0;
					}
					&:nth-child(8) {
						clear: both;
					}
				}

				li button {
					font-size: 0;
					line-height: 0;
					display: block;
					width: $baseline * 0.5;
					height: $baseline * 0.5;
					padding: 0;
					margin: 0;
					cursor: pointer;
					border: 0;
					outline: none;
					border-radius: 50%;
					background: $indigo;

					@include breakpoint($tablet-portrait) {
						width: $baseline * 0.75;
						height: $baseline * 0.75;
					}
				}

				li button:hover,
				li button:focus {
					outline: none;
				}

				li.slick-active button {
					background: #fff;
				}
			}

		}
	}

	.bg-pattern-1 {
		display: none;
	}

	@include breakpoint($tablet-landscape) {
		// TODO: calculate section height dynamically
		height: 360vh;

		@include with-layout(8) {
			.timeline-arrow {
				position: fixed;
				top: $baseline * 22;

				@include breakpoint("min-aspect-ratio" "3/2") {
					top: calc(25% + 100px);
				}
			}
			.timeline-arrow--prev {
				left: span(1 of 8 wide);
			}
			.timeline-arrow--next {
				left: span(1 of 8 wide) + (span(1 of 8 wide) / 2);
			}

			.timeline-carousel {
				position: fixed;
				@include span(3 of 8);
				left: span(3 of 8 wide);
				top: $baseline * 16;

				@include breakpoint("min-aspect-ratio" "3/2") {
					top: 25%;
				}
			}

			.timeline-carousel__item {
				// background: red;
				h3 {
					font-size: ms(3);
					line-height: $baseline * 4;
					color: $indigo;
					@include align-to-baseline( ms(3), $baseline * 4 );
					padding-bottom: $baseline;
				}
				p {}
			}

			// Dots
			.slick-dots {
				position: absolute;
				top: $baseline * 11;
				left: -68.5%;
				width: 55%;
				padding: 0;
				margin: 0;
			    list-style: none;
			    text-align: left;
				font-size: 0;
				line-height: 0;

				li {
					position: relative;
					float: left;
					margin: 0;
					margin-right: $baseline;
					margin-bottom: $baseline;
					padding: 0;
					font-size: 0;
					line-height: 0;

					&:nth-child(8) {
						clear: both;
					}
				}

				li button {
					font-size: 0;
					line-height: 0;
					display: block;
					width: $baseline;
					height: $baseline;
					padding: 0;
					margin: 0;
					cursor: pointer;
					border: 0;
					outline: none;
					border-radius: 50%;
					background: $indigo;
				}

				li button:hover,
				li button:focus {
					outline: none;
				}

				li.slick-active button {
					background: #fff;
				}
			}
		}

		.bg-pattern-1 {
			display: block;
			position: fixed;
			right: -5%;
			top: 0;
			height: 260vh;
		}
	}

}
